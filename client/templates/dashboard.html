<html ng-app="chatapp">

<head>
    <!-- <link rel="stylesheet" href="../css/main.css" type="text/css" /> -->
    <link rel="stylesheet" href="../css/tri.css" type="text/css" />
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
    <script src="../controller/chatController.js"></script>
    <link href="../../font-awesome-4.7.0/css/font-awesome.css" rel="stylesheet">
</head>

<body ng-controller="chatController" class="dashboard" >
    <header>
        <div class="topnav" id="myTopnav">
            <!-- <a href="#home" class="active" ui-sref="login">Log out</a> -->

            <!-- <a class="new-chat">Timeline</a> -->
            <!-- <a class="contact">Contact</a>  -->
            <a class="heading">Welcome{{currUserName}}</a>
            <a href="javascript:void(0);" class="icon" onclick="myFunction()">
                <i class="fa fa-bars"></i>
            </a>
        </div>
    </header>
    <footer>
        <div class="topnav" id="myTopnav">
            <a href="#home" class="active" ui-sref="login">Log out</a>
        </div>
    </footer>
    <section>
        <nav>
            <ul>
                <p class="con-list">Contact List</p>
            </ul>
            <p ng-repeat="x in allUserArr" ng-click="person(x)" ng-show="currUserName!=x.firstname">
                {{x.firstname}}</p>
                <a class="">{{getAllUsers}}</a>
        </nav>

        <article>

            <div class="groupChat">
                <p class="username"><h1>{{recieverUserName}}</h1></p>
            </div>
            <section>
                <form>
                    <div class="chatLogs" ng-repeat="chat in allUserArr">
                        <div class="chat friend" ng-show="currUser != chat.senderUserId">
                            <p class="chatMsg"> {{chat.message}}</p>
                        </div>
                        <div class="chat self" ng-show="currUser == chat.senderUserId">
                            
                            <p class="chatMsg"> {{chat.message}}</p>
                        </div>
                    </div>
            </section>

            <div>
                <textarea ng-model="message" ng-keyup="$event.keyCode == 13 && sendmessage()"  class="text" placeholder="Start Conversation"></textarea>
                <button type="button"  ng-click=sendmessage();  class="sendclick">Send</button>
            </div>
            </form>
        </article>
        
    </section>
</body>

</html>


